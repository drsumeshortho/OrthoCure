<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Consult | OrthoCure Clinic</title>
  <meta name="description" content="Book an online orthopaedic consultation with Dr. Sumesh Subramanian at OrthoCure Clinic. Secure and simple appointment system for expert care.">
  <meta name="keywords" content="OrthoCure online consult, Dr. Sumesh Subramanian appointment, Chennai ortho consultation, bone joint specialist online">
  <meta name="author" content="Dr. Sumesh Subramanian">
  <link rel="icon" href="/assets/favicon.png" type="image/png">
  <link rel="shortcut icon" href="/assets/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/assets/favicon.png">
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f9fcfc; color: #2c3e50; }
    header, footer { background: #013440; color: white; padding: 20px; text-align: center; }
    nav { background: #009688; display: flex; justify-content: center; gap: 20px; padding: 10px; position: sticky; top: 0; z-index: 999; }
    nav a { color: white; text-decoration: none; font-weight: bold; }
    nav a:hover { color: #FFC107; }
    section { max-width: 600px; margin: 40px auto; padding: 0 20px; }
    h2 { color: #009688; margin-bottom: 20px; text-align: center; font-size: 1.8rem; }
    form { display: flex; flex-direction: column; gap: 15px; background: #ffffff; padding: 30px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); font-size: 1.05rem; }
    input, textarea, select {
      padding: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1.05rem;
    }
    input[type="submit"] {
      background-color: #007B5E;
      color: white;
      font-weight: bold;
      cursor: pointer;
      border: none;
      padding: 18px;
      font-size: 1.1rem;
    }
    input[type="submit"]:hover {
      background-color: #005F4E;
    }
    .confirmation-modal {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.6);
      z-index: 9999;
      justify-content: center;
      align-items: center;
    }
    .confirmation-box {
      background: #ffffff;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0,0,0,0.25);
      max-width: 400px;
    }
    .confirmation-box h3 {
      color: #007B5E;
      margin-bottom: 10px;
    }
    .floating-whatsapp {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25d366;
      padding: 12px 16px;
      color: white;
      border-radius: 50px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 1000;
    }
    .note { font-size: 0.9rem; color: #555; font-style: italic; text-align: center; }
  </style>
  <script>
    async function handleSubmit(event) {
      event.preventDefault();
      const form = event.target;
      const formData = new FormData(form);
      const submitButton = form.querySelector('input[type="submit"]');

      submitButton.value = 'Submitting...';
      submitButton.disabled = true;

      try {
        const response = await fetch("https://script.google.com/macros/s/AKfycbxzZ64J3TUM32j-Un7hf1PTeTf4lnc3PCAO65KQjpmXLPm_5YPhUdvR6Aoabzp6XG0/exec", {
          method: "POST",
          body: formData
        });

        const text = await response.text();
        const cleaned = text.trim().toLowerCase();

        if (cleaned.includes("success")) {
          form.reset();
          document.getElementById("confirmation-modal").style.display = "flex";
        } else {
          alert("‚ùå Submission failed. Please try again.\nServer response: " + cleaned);
        }
      } catch (error) {
        console.error("Fetch error:", error);
        alert("üö´ Network error. Please check your connection.");
      }

      submitButton.value = 'Submit Appointment Request';
      submitButton.disabled = false;
    }

    function closeModal() {
      document.getElementById("confirmation-modal").style.display = "none";
    }
  </script>
</head>
<body>
  <header>
    <h1>Online Consultation</h1>
    <p><em>Start Healing. Stay Moving.</em></p>
  </header>

  <nav>
    <a href="/">Home</a>
    <a href="/about.html">About</a>
    <a href="/consult/index.html">Consult</a>
    <a href="/blog.html">Blog</a>
    <a href="/contact.html">Contact</a>
  </nav>

  <section>
    <h2>Book Your Online Appointment</h2>
    <form onsubmit="handleSubmit(event)">
      <input type="text" name="name" placeholder="Full Name" required>
      <input type="number" name="age" placeholder="Age" required>
      <select name="gender" required>
        <option value="">Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
      <input type="email" name="email" placeholder="Email Address" required>
      <select name="consultationDay" required>
        <option value="">Select Day</option>
        <option value="Monday">Monday</option>
        <option value="Tuesday">Tuesday</option>
        <option value="Wednesday">Wednesday</option>
        <option value="Thursday">Thursday</option>
        <option value="Friday">Friday</option>
        <option value="Saturday">Saturday</option>
      </select>
      <select name="preferredTime" required>
        <option value="">Preferred Time Slot</option>
        <option value="10AM‚Äì1PM">10AM‚Äì1PM</option>
        <option value="2PM‚Äì4PM">2PM‚Äì4PM</option>
        <option value="5PM‚Äì9PM">5PM‚Äì9PM</option>
      </select>
      <input type="text" name="preferredExactTime" placeholder="Optional: Exact time within selected slot">
      <input type="tel" name="whatsapp" placeholder="WhatsApp Number" required>
      <textarea name="problem" rows="3" placeholder="Brief Description of the Problem" required></textarea>
      <input type="hidden" name="consent" value="Yes">
      <input type="submit" value="Submit Appointment Request">
    </form>
    <p class="note">We strictly follow Govt. of India Telemedicine Practice Guidelines ‚Äì 2020. All your information is confidential and secure.</p>
  </section>

  <div id="confirmation-modal" class="confirmation-modal" onclick="closeModal()">
    <div class="confirmation-box">
      <h3>‚úÖ Appointment Request Sent!</h3>
      <p>We‚Äôll contact you on WhatsApp to confirm the time and share payment details.</p>
      <button onclick="closeModal()">OK</button>
    </div>
  </div>

  <a href="https://wa.me/919677253746" class="floating-whatsapp" target="_blank">Chat on WhatsApp</a>

  <footer>
    <p>&copy; 2025 <strong>Dr. Sumesh Subramanian</strong> | OrthoCure Bone & Joint Speciality Clinic</p>
    <p>üìç Thirumullaivoyal, Chennai | <a href="mailto:drsumesh.ortho@gmail.com">drsumesh.ortho@gmail.com</a> | TNMC Reg No: 119811</p>
    <p><small>This form complies with India‚Äôs official Telemedicine Practice Guidelines.</small></p>
  </footer>
</body>
</html>
